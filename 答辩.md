# 步骤

## 硬件部分

* 定位

## 初始化

* 目的：截取原图

## 对每一个块

* 截取template area
* 选择一个template（提取轮廓之后选面积最接近的）并确定位置
* 判断empty
  * 直接阈值处理即可
* 确定入场位置
  * 初级模板匹配（因为大小原因，精度不高）
* 移到入场位置
* 根据入场位置截取template（大小变大了）
  * 注意只取中间区域（原因）
* 与原图进行模板匹配：
  * 得到25个元素的相似度排序
* 得到排序后：
  * 移到最大位置（并且用empty判断没有被占用或者尝试过的位置）
  * 判断上一位置操作前后是否有变化
    * 无：则成功
    * 有：则重复上述操作，移动到下一排序位置

至此：一个拼图块完成，循环25次即可



# 亮点

## 可以应对匹配算法失灵的某些情况

从算法的各种部分，我们都比较全面的考虑了各种情况，保证鲁棒性

例：

* 二次匹配
* 多次尝试

大部分情况下匹配算法精度较高，但是当最大排序并不是正确位置时，我们的算法能够持续尝试，直到找到正确位置，具有较好的鲁棒性



# 尝试

* empty（做差）——未变化部分和拼图亮度均较高——无法区分——直接使用阈值
* match加入高斯：
* 加了颜色直方图均衡——效果不好



